(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4616],{9855:function(e,t,a){Promise.resolve().then(a.bind(a,6213))},5130:function(e,t,a){"use strict";a.r(t);var s=a(7437);a(2265),a(9070);var r=a(6648);t.default=e=>{let{imageUrl:t,onClose:a}=e;return(0,s.jsx)("div",{className:"image_modal",children:(0,s.jsxs)("div",{className:"image_modal_content",children:[(0,s.jsx)("span",{className:"close_modal",onClick:a,children:"\xd7"}),(0,s.jsx)(r.default,{src:t,alt:"Modal Image",width:300,height:200,className:"modal_image"})]})})}},3793:function(e,t,a){"use strict";a.d(t,{N:function(){return r}});let s=e=>{try{let t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(t).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(a)}catch(e){return console.error("Error parsing JWT:",e),null}},r=()=>{let e=localStorage.getItem("token")||sessionStorage.getItem("token");if(!e)return"";try{let t=s(e);return(null==t?void 0:t.email)||""}catch(e){return console.error("Error decoding token:",e),""}}},3272:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var s=a(7437),r=a(2265),n=a(9854);let l=(0,a(5236).ZF)({apiKey:"AIzaSyCLo3z-vVRDwKbN9z78njCHrdYFzkEUe3Y",authDomain:"jsmaster-e2950.firebaseapp.com",projectId:"jsmaster-e2950",storageBucket:"jsmaster-e2950.appspot.com",messagingSenderId:"743548453677",appId:"1:743548453677:web:f518d9532c4556dbcd09a4"}),o=(0,n.cF)(l);a(9070);var i=a(7942);function c(e){let{onClose:t,onAddPost:a}=e,[l,c]=(0,r.useState)(""),[d,u]=(0,r.useState)(""),[m,h]=(0,r.useState)(null),[p,f]=(0,r.useState)(!1),[j,g]=(0,r.useState)(""),[x,v]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e=e=>e.replace(/-/g,"+").replace(/_/g,"/"),t=localStorage.getItem("token")||sessionStorage.getItem("token");if(t)try{let a=(t=>{let a=t.split(".");if(3!==a.length)throw Error("Invalid token format");return JSON.parse(atob(e(a[1])))})(t).email;g(a||"")}catch(e){console.error("Error decoding token:",e),g("")}else g("")},[]);let b=async e=>{if(e.preventDefault(),l&&d&&m&&j){f(!0);try{let e=(0,n.iH)(o,"images/".concat(m.name)),s=await (0,n.KV)(e,m),r=await (0,n.Jt)(s.ref),i=await fetch("/api/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:l,description:d,imageUrl:r,userEmail:j,userAnswer:x})});if(i.ok){let e=await i.json();a(e.post),t()}else console.error("Failed to save post data");f(!1),t()}catch(e){console.error("Error:",e),f(!1)}}};return(0,s.jsxs)("div",{className:"modal_overlay",children:[(0,s.jsxs)("div",{className:"modal_content",children:[(0,s.jsx)("button",{className:"modal_close",onClick:t,children:"X"}),(0,s.jsx)("h2",{children:"Create New Post"}),(0,s.jsxs)("form",{onSubmit:b,children:[(0,s.jsx)("label",{htmlFor:"title",children:"Title"}),(0,s.jsx)("input",{type:"text",id:"title",value:l,placeholder:"Enter your issue",onChange:e=>c(e.target.value),required:!0}),(0,s.jsx)("label",{htmlFor:"description",children:"Description"}),(0,s.jsx)("textarea",{id:"description",value:d,onChange:e=>u(e.target.value),required:!0,placeholder:"Explain Your issues"}),(0,s.jsx)("label",{htmlFor:"image",children:"Image"}),(0,s.jsx)("input",{type:"file",id:"image",accept:"image/*",onChange:e=>h(e.target.files[0]),required:!0}),(0,s.jsx)("button",{type:"submit",disabled:p,children:p?"Uploading...":"Submit"})]})]}),p&&(0,s.jsx)(i.default,{})]})}},6213:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var s=a(7437),r=a(2265);a(9070);var n=a(4961),l=a(3272),o=a(6648),i=a(6393);a(3436);var c=a(5130),d=a(3793);function u(){let[e,t]=(0,r.useState)(!1),[a,u]=(0,r.useState)([]),[m,h]=(0,r.useState)(!0),[p,f]=(0,r.useState)(null),[j,g]=(0,r.useState)(null),[x,v]=(0,r.useState)(""),[b,y]=(0,r.useState)({}),N=()=>t(e=>!e),k=e=>{f(t=>t===e?null:e)},S=e=>{y(t=>({...t,[e]:!t[e]}))};(0,r.useEffect)(()=>{let e=(0,d.N)();v(e),(async()=>{if(e)try{let t=await fetch("/api/showposts?email=".concat(e));if(t.ok){let e=await t.json();u(e.posts)}else console.error("Failed to fetch posts")}catch(e){console.error("Error fetching posts:",e)}finally{h(!1)}})()},[x]);let _=e=>{g(e)},w=async e=>{try{(await fetch("/api/postdelete?postId=".concat(e),{method:"DELETE"})).ok?u(t=>t.filter(t=>t._id!==e)):console.error("Failed to delete post")}catch(e){console.error("Error deleting post:",e)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.default,{}),(0,s.jsxs)("div",{className:"community_container",children:[(0,s.jsxs)("h1",{children:["Y",(0,s.jsx)("span",{className:"or",children:"our"})," Qu",(0,s.jsx)("span",{className:"or",children:"ery"})," Po",(0,s.jsx)("span",{className:"or",children:"st"}),"s"]}),(0,s.jsx)("p",{className:"community_para",children:"In this community, you can share any JavaScript-related problems, issues, or errors that you are facing in your code or project. Whether its a bug, a question about best practices, or a challenge you are stuck on, feel free to post your query here. Our community is here to help you troubleshoot, brainstorm, and collaborate on solutions to your coding problems."}),(0,s.jsxs)("div",{className:"community_post",children:[(0,s.jsxs)("button",{className:"add_post_button",onClick:N,children:[(0,s.jsx)("i",{className:"fa-solid fa-plus"})," Post"]}),(0,s.jsx)("div",{className:"post_cards",children:(0,s.jsx)(i.y,{baseColor:"#202020",highlightColor:"#ddd",children:m?Array(8).fill().map((e,t)=>(0,s.jsxs)("div",{className:"post_card",children:[(0,s.jsx)(i.Z,{className:"Skeleton",height:200,animation:"wave"}),(0,s.jsx)("h3",{children:(0,s.jsx)(i.Z,{className:"Skeleton",width:"20vw",animation:"wave"})}),(0,s.jsx)("p",{children:(0,s.jsx)(i.Z,{className:"Skeleton",count:3,animation:"wave"})})]},t)):a.map(e=>(0,s.jsxs)("div",{className:"post_card",children:[(0,s.jsx)("div",{className:"image_wrapper",children:(0,s.jsx)(o.default,{src:e.imageUrl,alt:e.title,width:300,height:200,layout:"responsive",objectFit:"cover",onClick:()=>_(e.imageUrl)})}),(0,s.jsx)("h3",{children:e.title}),(0,s.jsxs)("div",{className:"desc_text",children:[(0,s.jsx)("p",{className:"line_clamp ".concat(b[e._id]?"expanded":""),children:e.description}),(0,s.jsx)("span",{onClick:()=>S(e._id),className:"readmore_btn_color",children:b[e._id]?"Read Less":"Read More"})]}),(0,s.jsx)("button",{onClick:()=>k(e._id),children:p===e._id?"Hide Answer":"Show Answer"}),(0,s.jsx)("button",{className:"delete_button",onClick:()=>w(e._id),children:"Delete Post"}),p===e._id&&(0,s.jsx)("div",{className:"answer_section",children:e.answer.length>0?e.answer.map((e,t)=>(0,s.jsx)("p",{children:e},t)):(0,s.jsx)("p",{children:"Answer is not available"})})]},e._id))})})]}),e&&(0,s.jsx)(l.default,{onClose:N,onAddPost:e=>{u(t=>[...t,e]),N()}}),j&&(0,s.jsx)(c.default,{imageUrl:j,onClose:()=>{g(null)}})]})]})}},4961:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return o}});var s=a(7437),r=a(2265),n=a(6463),l=a(7138);function o(){let[e,t]=(0,r.useState)(!1),[a,o]=(0,r.useState)(!1),[i,c]=(0,r.useState)(null),d=(0,n.usePathname)(),u=(0,n.useRouter)();(0,r.useEffect)(()=>{(async()=>{let e=localStorage.getItem("token")||sessionStorage.getItem("token");if(!e){c(null);return}try{let t=await fetch("/api/user-initial",{headers:{Authorization:"Bearer ".concat(e)}}),a=await t.json();401===t.status?"Token expired. Please log in again."===a.message?(localStorage.removeItem("token"),sessionStorage.removeItem("token"),u.push("/login")):c(null):t.ok?c(a.userInitial):c(null)}catch(e){console.error("Error fetching user initial:",e),c(null)}})()},[u]);let m=e=>d===e?"active":"";return(0,s.jsxs)("nav",{className:"navbar",children:[(0,s.jsx)("div",{className:"navbar-logo",children:(0,s.jsx)(l.default,{href:"/home",children:"JSMaster"})}),(0,s.jsxs)("ul",{className:"navbar-links ".concat(e?"active":""),children:[(0,s.jsx)("li",{children:(0,s.jsx)(l.default,{href:"/home",className:m("/home"),children:"Home"})}),(0,s.jsx)("li",{children:(0,s.jsx)(l.default,{href:"/blog",className:m("/blog"),children:"Blog"})}),(0,s.jsx)("li",{children:(0,s.jsx)(l.default,{href:"/community",className:m("/community"),children:"Community"})}),(0,s.jsx)("li",{children:(0,s.jsx)(l.default,{href:"/contact",className:m("/contact"),children:"Contact Us"})}),(0,s.jsxs)("li",{className:"navbar-user",onClick:()=>{o(!a)},children:[(0,s.jsx)("span",{className:"user-initial",children:i}),(0,s.jsxs)("div",{className:"dropdown-menu ".concat(a?"open":""),children:[(0,s.jsx)(l.default,{href:"/profile",children:"Profile"}),(0,s.jsx)(l.default,{href:"/dashboard",children:"Dashboard"}),(0,s.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),c(null),u.push("/login")},children:"Logout"})]})]})]}),(0,s.jsxs)("div",{className:"navbar-hamburger ".concat(e?"open":""),onClick:()=>{t(!e)},children:[(0,s.jsx)("span",{className:"bar"}),(0,s.jsx)("span",{className:"bar bar2"}),(0,s.jsx)("span",{className:"bar"})]})]})}a(56)},7942:function(e,t,a){"use strict";a.r(t);var s=a(7437);a(2265),a(8554),t.default=()=>(0,s.jsx)("div",{className:"loader",children:(0,s.jsx)("div",{className:"spinner"})})},3436:function(){},9070:function(){},8554:function(){},56:function(){},6393:function(e,t,a){"use strict";a.d(t,{Z:function(){return n},y:function(){return l}});var s=a(2265);let r=s.createContext({});function n(e){var t,a,n;let{count:l=1,wrapper:o,className:i,containerClassName:c,containerTestId:d,circle:u=!1,style:m,...h}=e,p=s.useContext(r),f={...h};for(let[e,t]of Object.entries(h))void 0===t&&delete f[e];let j={...p,...f,circle:u},g={...m,...function(e){let{baseColor:t,highlightColor:a,width:s,height:r,borderRadius:n,circle:l,direction:o,duration:i,enableAnimation:c=!0}=e,d={};return"rtl"===o&&(d["--animation-direction"]="reverse"),"number"==typeof i&&(d["--animation-duration"]="".concat(i,"s")),c||(d["--pseudo-element-display"]="none"),("string"==typeof s||"number"==typeof s)&&(d.width=s),("string"==typeof r||"number"==typeof r)&&(d.height=r),("string"==typeof n||"number"==typeof n)&&(d.borderRadius=n),l&&(d.borderRadius="50%"),void 0!==t&&(d["--base-color"]=t),void 0!==a&&(d["--highlight-color"]=a),d}(j)},x="react-loading-skeleton";i&&(x+=" ".concat(i));let v=null!==(t=j.inline)&&void 0!==t&&t,b=[],y=Math.ceil(l);for(let e=0;e<y;e++){let t=g;if(y>l&&e===y-1){let e=null!==(a=t.width)&&void 0!==a?a:"100%",s=l%1,r="number"==typeof e?e*s:"calc(".concat(e," * ").concat(s,")");t={...t,width:r}}let r=s.createElement("span",{className:x,style:t,key:e},"‌");v?b.push(r):b.push(s.createElement(s.Fragment,{key:e},r,s.createElement("br",null)))}return s.createElement("span",{className:c,"data-testid":d,"aria-live":"polite","aria-busy":null===(n=j.enableAnimation)||void 0===n||n},o?b.map((e,t)=>s.createElement(o,{key:t},e)):b)}function l(e){let{children:t,...a}=e;return s.createElement(r.Provider,{value:a},t)}}},function(e){e.O(0,[6038,1404,3190,1141,2291,6648,5623,2971,7023,1744],function(){return e(e.s=9855)}),_N_E=e.O()}]);