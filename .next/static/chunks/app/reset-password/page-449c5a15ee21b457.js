(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2363],{1702:function(e,s,r){Promise.resolve().then(r.bind(r,9371))},6463:function(e,s,r){"use strict";var a=r(1169);r.o(a,"usePathname")&&r.d(s,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(s,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(s,{useSearchParams:function(){return a.useSearchParams}})},7942:function(e,s,r){"use strict";r.r(s);var a=r(7437);r(2265),r(8554),s.default=()=>(0,a.jsx)("div",{className:"loader",children:(0,a.jsx)("div",{className:"spinner"})})},9371:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return c}});var a=r(7437),t=r(2265),n=r(6463),o=r(3580);r(4193),r(3316);var u=r(7942);function i(){let[e,s]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),[c,d]=(0,t.useState)(!1),[l,h]=(0,t.useState)(""),m=(0,n.useRouter)(),f=(0,n.useSearchParams)().get("token"),p=async s=>{if(s.preventDefault(),d(!0),e.length<6){h("Password must be at least 6 characters long"),o.Am.error("Password must be at least 6 characters long"),d(!1);return}if(e!==r){h("Passwords do not match"),o.Am.error("Passwords do not match"),d(!1);return}try{let s=await fetch("/api/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:f,password:e})}),r=await s.json();s.ok?(o.Am.success("Password reset successful!"),m.push("/login")):(h(r.message),o.Am.error(r.message))}catch(e){h("An error occurred. Please try again."),o.Am.error("An error occurred. Please try again.")}finally{d(!1)}};return(0,a.jsxs)("div",{className:"Auth_container",children:[c&&(0,a.jsx)(u.default,{}),(0,a.jsx)("div",{className:"Auth_header",children:(0,a.jsx)("h1",{children:"Reset Password"})}),(0,a.jsxs)("form",{onSubmit:p,className:"Auth_form",children:[(0,a.jsxs)("div",{className:"Auth_inputGroup",children:[(0,a.jsx)("label",{htmlFor:"password",children:"New Password"}),(0,a.jsx)("input",{type:"password",id:"password",name:"password",value:e,onChange:e=>s(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"Auth_inputGroup",children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,a.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:r,onChange:e=>i(e.target.value),required:!0})]}),(0,a.jsx)("button",{type:"submit",className:"Auth_button",disabled:c,children:c?"Resetting...":"Reset Password"}),l&&(0,a.jsx)("p",{style:{color:"red"},children:l})]}),(0,a.jsx)(o.Ix,{})]})}function c(){return(0,a.jsx)(t.Suspense,{fallback:(0,a.jsx)("p",{children:"Loading reset password form..."}),children:(0,a.jsx)(i,{})})}},3316:function(){},8554:function(){}},function(e){e.O(0,[7143,3533,3190,127,2971,7023,1744],function(){return e(e.s=1702)}),_N_E=e.O()}]);