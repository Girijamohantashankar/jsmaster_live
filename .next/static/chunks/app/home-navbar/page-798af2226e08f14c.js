(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[249],{505:function(e,a,s){Promise.resolve().then(s.bind(s,4961))},4961:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return c}});var n=s(7437),l=s(2265),t=s(6463),r=s(7138);function c(){let[e,a]=(0,l.useState)(!1),[s,c]=(0,l.useState)(!1),[i,o]=(0,l.useState)(null),u=(0,t.usePathname)(),h=(0,t.useRouter)();(0,l.useEffect)(()=>{(async()=>{let e=localStorage.getItem("token")||sessionStorage.getItem("token");if(!e){o(null);return}try{let a=await fetch("/api/user-initial",{headers:{Authorization:"Bearer ".concat(e)}}),s=await a.json();401===a.status?"Token expired. Please log in again."===s.message?(localStorage.removeItem("token"),sessionStorage.removeItem("token"),h.push("/login")):o(null):a.ok?o(s.userInitial):o(null)}catch(e){console.error("Error fetching user initial:",e),o(null)}})()},[h]);let d=e=>u===e?"active":"";return(0,n.jsxs)("nav",{className:"navbar",children:[(0,n.jsx)("div",{className:"navbar-logo",children:(0,n.jsx)(r.default,{href:"/home",children:"JSMaster"})}),(0,n.jsxs)("ul",{className:"navbar-links ".concat(e?"active":""),children:[(0,n.jsx)("li",{children:(0,n.jsx)(r.default,{href:"/home",className:d("/home"),children:"Home"})}),(0,n.jsx)("li",{children:(0,n.jsx)(r.default,{href:"/blog",className:d("/blog"),children:"Blog"})}),(0,n.jsx)("li",{children:(0,n.jsx)(r.default,{href:"/community",className:d("/community"),children:"Community"})}),(0,n.jsx)("li",{children:(0,n.jsx)(r.default,{href:"/contact",className:d("/contact"),children:"Contact Us"})}),(0,n.jsxs)("li",{className:"navbar-user",onClick:()=>{c(!s)},children:[(0,n.jsx)("span",{className:"user-initial",children:i}),(0,n.jsxs)("div",{className:"dropdown-menu ".concat(s?"open":""),children:[(0,n.jsx)(r.default,{href:"/profile",children:"Profile"}),(0,n.jsx)(r.default,{href:"/dashboard",children:"Dashboard"}),(0,n.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),o(null),h.push("/login")},children:"Logout"})]})]})]}),(0,n.jsxs)("div",{className:"navbar-hamburger ".concat(e?"open":""),onClick:()=>{a(!e)},children:[(0,n.jsx)("span",{className:"bar"}),(0,n.jsx)("span",{className:"bar bar2"}),(0,n.jsx)("span",{className:"bar"})]})]})}s(56)},56:function(){}},function(e){e.O(0,[1404,2291,2971,7023,1744],function(){return e(e.s=505)}),_N_E=e.O()}]);