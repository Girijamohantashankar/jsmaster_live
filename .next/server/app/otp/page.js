(()=>{var e={};e.id=9636,e.ids=[9636],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8952:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>u,routeModule:()=>m,tree:()=>d}),r(3946),r(8295),r(5866);var s=r(3191),a=r(8716),n=r(7922),i=r.n(n),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["otp",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3946)),"F:\\MERN PROJECTS\\New folder\\js-master-main\\src\\app\\otp\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,8295)),"F:\\MERN PROJECTS\\New folder\\js-master-main\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],u=["F:\\MERN PROJECTS\\New folder\\js-master-main\\src\\app\\otp\\page.js"],c="/otp/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/otp/page",pathname:"/otp",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6369:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},5459:()=>{},951:(e,t,r)=>{Promise.resolve().then(r.bind(r,688))},5047:(e,t,r)=>{"use strict";var s=r(7389);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},6180:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(326);r(7577),r(1252);let a=()=>s.jsx("div",{className:"loader",children:s.jsx("div",{className:"spinner"})})},688:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(326),a=r(7577),n=r(5047),i=r(9394);r(5996),r(7124);var o=r(6180);function l(){let e=(0,n.useRouter)(),[t,r]=(0,a.useState)(""),[l,d]=(0,a.useState)(""),[u,c]=(0,a.useState)(""),[p,m]=(0,a.useState)(""),[h,x]=(0,a.useState)(120),[j,P]=(0,a.useState)(!1),[g,y]=(0,a.useState)(!1),f=async()=>{y(!0);try{let e=await fetch("/api/resend-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),r=await e.json();e.ok?(i.Am.success("OTP resent to your email."),x(120),localStorage.setItem("otpTimer","120")):i.Am.error(r.message)}catch(e){i.Am.error("Failed to resend OTP.")}finally{y(!1)}},v=async r=>{r.preventDefault(),P(!0);try{let r=await fetch("/api/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,otp:l})}),s=await r.json();r.ok?(m(s.message),localStorage.setItem("token",s.token),e.push("/home")):(c(s.message),i.Am.error(s.message))}catch(e){c("An error occurred. Please try again."),i.Am.error("An error occurred. Please try again.")}finally{P(!1)}};return(0,s.jsxs)("div",{className:"Auth_container",children:[(j||g)&&s.jsx(o.default,{}),s.jsx("div",{className:"Auth_header",children:s.jsx("h1",{children:"Verify OTP"})}),(0,s.jsxs)("form",{onSubmit:v,className:"Auth_form",children:[(0,s.jsxs)("div",{className:"Auth_inputGroup",children:[s.jsx("label",{htmlFor:"email",children:"Email"}),s.jsx("input",{type:"email",id:"email",name:"email",value:t,onChange:e=>r(e.target.value),required:!0,readOnly:!0})]}),(0,s.jsxs)("div",{className:"Auth_inputGroup",children:[s.jsx("label",{htmlFor:"otp",children:"OTP"}),s.jsx("input",{type:"text",id:"otp",name:"otp",value:l,onChange:e=>d(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"Auth_actionGroup",children:[s.jsx("div",{className:"timer_display",children:h>0?(0,s.jsxs)("p",{children:["Resend OTP available in: ",h,"s"]}):null}),(0,s.jsxs)("div",{className:"resend_btn",children:[s.jsx("button",{type:"submit",className:"Auth_button",disabled:j,children:j?"Verifying...":"Verify OTP"}),0===h&&s.jsx("button",{type:"button",onClick:f,className:"Auth_button",disabled:g,children:g?"Resending...":"Resend OTP"})]})]}),u&&s.jsx("p",{style:{color:"red"},children:u}),p&&s.jsx("p",{style:{color:"green"},children:p})]}),s.jsx(i.Ix,{})]})}},8295:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>a});var s=r(9510);r(833),r(1463),r(4297),r(5206);let a={title:"JsMaster",description:"This is Js Master App"};function n({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{children:s.jsx("main",{children:e})})})}},3946:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});var s=r(8570);let a=(0,s.createProxy)(String.raw`F:\MERN PROJECTS\New folder\js-master-main\src\app\otp\page.js`),{__esModule:n,$$typeof:i}=a;a.default;let o=(0,s.createProxy)(String.raw`F:\MERN PROJECTS\New folder\js-master-main\src\app\otp\page.js#default`)},833:()=>{},7124:()=>{},1252:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[7882,1073],()=>r(8952));module.exports=s})();